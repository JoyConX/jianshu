# Dubbo介绍

-------------------------------------------------------------------------------

- [Dubbo官网](http://dubbo.io/Home-zh.htm)

## Double是什么？

Dubbo是阿里巴巴SOA服务化治理方案的核心框架，致力于提供高性能和**透明化的RPC远程服务**调用方案，以及**SOA服务治理**方案。

其核心部分包含:

-   远程通讯: 提供对多种基于长连接的NIO框架抽象封装，包括多种线程模型，序列化，以及“请求-响应”模式的信息交换方式。
-   集群容错: 提供基于接口方法的透明远程过程调用，包括多协议支持，以及软负载均衡，失败容错，地址路由，动态配置等集群支持。
-   自动发现: 基于注册中心目录服务，使服务消费方能动态的查找服务提供方，使地址透明，使服务提供方可以平滑增加或减少机器。

## Dubbo能做什么？

-   透明化的远程方法调用: 就像调用本地方法一样调用远程方法，只需简单配置，没有任何API侵入。
-   软负载均衡及容错机制: 可在内网替代F5等硬件负载均衡器，降低成本，减少单点。
-   服务自动注册与发现: 不再需要写死服务提供方地址，注册中心基于接口名查询服务提供者的IP地址，并且能够平滑添加或删除服务提供者。


# dubbo架构

-------------------------------------------------------------------------------

dubbo架构图

![](http://upload-images.jianshu.io/upload_images/1435486-42aa237c0814d100.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

重要角色:

+ Registry: 注册中心；和服务的消费者，和服务提供者都建立长连接。服务提供者注册服务到注册中心；服务消费者从注册中心获取服务提供者列表；
+ Consumer: 服务消费端；服务消费者从注册中心获取到服务提供者列表后，根据负载均衡算法，选择一个服务提供者，和服务提供者直接建立连接，开始调用服务；
+ Provider:服务提供者；服务提供者提供RPC服务；
+ Monitor: 监控服务的调用情况统计;

注册中心

+ 注册中心为N+1对等集群，一台挂掉后，会自动切换到另外一台注册中心
+ 注册中心全部挂掉后，消息消费者本地会缓存服务提供者列表，所以不影响当时的服务调用。
+ 服务提供者为集群，一台挂掉后，通过心跳过程，注册中心会立即刷到服务消费者告知；


# [在Dubbo中开发REST风格的远程调用](http://dangdangdotcom.github.io/dubbox/rest.html)

-------------------------------------------------------------------------------

dubbo支持多种远程调用方式，例如dubbo RPC（二进制序列化 + tcp协议）、http invoker（二进制序列化 + http协议，至少在开源版本没发现对文本序列化的支持）、hessian（二进制序列化 + http协议）、WebServices （文本序列化 + http协议）等等，但缺乏对当今特别流行的REST风格远程调用（文本序列化 + http协议）的支持。

有鉴于此，我们基于标准的Java REST API——JAX-RS 2.0（Java API for RESTful Web Services的简写），为dubbo提供了接近透明的REST调用支持。由于完全兼容Java标准API，所以为dubbo开发的所有REST服务，未来脱离dubbo或者任何特定的REST底层实现一般也可以正常运行。

特别值得指出的是，我们并不需要完全严格遵守REST的原始定义和架构风格。即使著名的Twitter REST API也会根据情况做适度调整，而不是机械的遵守原始的REST风格。

> 附注：我们将这个功能称之为REST风格的远程调用，即RESTful Remoting（抽象的远程处理或者调用），而不是叫RESTful RPC（具体的远程“过程”调用），是因为REST和RPC本身可以被认为是两种不同的风格。在dubbo的REST实现中，可以说有两个面向，其一是提供或消费正常的REST服务，其二是将REST作为dubbo RPC体系中一种协议实现，而RESTful Remoting同时涵盖了这个面向

